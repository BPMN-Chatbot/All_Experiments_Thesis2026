<?xml version="1.0" encoding="UTF-8"?> <definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn"> 
  
  <collaboration id="Collaboration_1"> <participant id="Participant_Customer" name="Customer" processRef="Process_Customer"/> <participant id="Participant_Bank" name="Bank" processRef="Process_Bank"/> <messageFlow id="MessageFlow_CreditRequest" sourceRef="Task_SendCreditRequest" targetRef="Event_ReceiveCreditRequest"/> <messageFlow id="MessageFlow_NotifyResult" sourceRef="Event_SendAssessmentResult" targetRef="Event_ReceiveAssessmentResult"/> </collaboration> <!-- Customer Pool --> 
  
  <process id="Process_Customer" isExecutable="true"> 
    <laneSet> <lane id="Lane_Customer" name="Customer"/> </laneSet> <startEvent id="StartEvent_Customer" name="Start"/> <task id="Task_SendCreditRequest" name="Send Credit Request"/> <intermediateCatchEvent id="Event_ReceiveAssessmentResult" name="Receive Assessment Result"> <messageEventDefinition id="MessageEventDefinition_ReceiveAssessmentResult"/> </intermediateCatchEvent> <endEvent id="EndEvent_Customer" name="End"/> <sequenceFlow id="Flow_Customer1" sourceRef="StartEvent_Customer" targetRef="Task_SendCreditRequest"/> <sequenceFlow id="Flow_Customer2" sourceRef="Task_SendCreditRequest" targetRef="Event_ReceiveAssessmentResult"/> <sequenceFlow id="Flow_Customer3" sourceRef="Event_ReceiveAssessmentResult" targetRef="EndEvent_Customer"/> </process> 
  
  <!-- Bank Pool --> <process id="Process_Bank" isExecutable="true"> 
    <laneSet>
  <lane id="Lane_Risk" name="Risk Assessment">
    <flowNodeRef>Event_ReceiveCreditRequest</flowNodeRef>
    <flowNodeRef>Task_AssessRisk</flowNodeRef>
    <flowNodeRef>Gateway_RiskThreshold</flowNodeRef>
    <flowNodeRef>Task_AdvancedRiskAssessment</flowNodeRef>
    <flowNodeRef>Task_SimpleRiskAssessment</flowNodeRef>
    <flowNodeRef>Gateway_AfterAssessment_Fork</flowNodeRef>
    <flowNodeRef>Event_SendAssessmentResult</flowNodeRef>
  </lane>
  <lane id="Lane_Operations" name="Operations">
    <flowNodeRef>Task_OrganizeDisbursement</flowNodeRef>
    <flowNodeRef>EndEvent_Bank</flowNodeRef>
  </lane>
</laneSet>

<startEvent id="Event_ReceiveCreditRequest" name="Receive Credit Request">
  <messageEventDefinition id="MessageEventDefinition_ReceiveCreditRequest"/>
</startEvent>

<task id="Task_AssessRisk" name="Assess Risk"/>
<exclusiveGateway id="Gateway_RiskThreshold" name="Risk Above Threshold?"/>

<task id="Task_AdvancedRiskAssessment" name="Perform Advanced Risk Assessment">
  <dataInputAssociation id="DataInput_AssessmentResult_Advanced">
    <targetRef>DataRef_AssessmentResult</targetRef>
  </dataInputAssociation>
</task>

<task id="Task_SimpleRiskAssessment" name="Perform Simple Risk Assessment">
  <dataInputAssociation id="DataInput_AssessmentResult_Simple">
    <targetRef>DataRef_AssessmentResult</targetRef>
  </dataInputAssociation>
</task>

<parallelGateway id="Gateway_AfterAssessment_Fork"/>

<intermediateThrowEvent id="Event_SendAssessmentResult" name="Send Assessment Result">
  <messageEventDefinition id="MessageEventDefinition_SendAssessmentResult"/>
 
</intermediateThrowEvent>

<task id="Task_OrganizeDisbursement" name="Organize Disbursement">
  <dataOutputAssociation id="DataOutput_AssessmentResult_Disbursement">
    <sourceRef>DataRef_AssessmentResult</sourceRef>
  </dataOutputAssociation>
</task>

<endEvent id="EndEvent_Bank" name="End"/>

  
  <!-- Data Object for Assessment Result --> 
  <dataObject id="Data_AssessmentResult" /> 
  <bpmn:dataObjectReference id="DataRef_AssessmentResult" dataObjectRef="Data_AssessmentResult" name="Assessment Result"/>

  
  <sequenceFlow id="Flow_Bank1" sourceRef="Event_ReceiveCreditRequest" targetRef="Task_AssessRisk"/> <sequenceFlow id="Flow_Bank2" sourceRef="Task_AssessRisk" targetRef="Gateway_RiskThreshold"/> <sequenceFlow id="Flow_Bank3" sourceRef="Gateway_RiskThreshold" targetRef="Task_AdvancedRiskAssessment"> <conditionExpression xsi:type="tFormalExpression"><![CDATA[risk > threshold]]></conditionExpression> </sequenceFlow> <sequenceFlow id="Flow_Bank4" sourceRef="Gateway_RiskThreshold" targetRef="Task_SimpleRiskAssessment"> <conditionExpression xsi:type="tFormalExpression"><![CDATA[risk <= threshold]]></conditionExpression> </sequenceFlow> <sequenceFlow id="Flow_Bank5" sourceRef="Task_AdvancedRiskAssessment" targetRef="Gateway_AfterAssessment_Fork"/> <sequenceFlow id="Flow_Bank6" sourceRef="Task_SimpleRiskAssessment" targetRef="Gateway_AfterAssessment_Fork"/> <sequenceFlow id="Flow_Bank7" sourceRef="Gateway_AfterAssessment_Fork" targetRef="Event_SendAssessmentResult"/> <sequenceFlow id="Flow_Bank8" sourceRef="Gateway_AfterAssessment_Fork" targetRef="Task_OrganizeDisbursement"/> <sequenceFlow id="Flow_Bank9" sourceRef="Event_SendAssessmentResult" targetRef="EndEvent_Bank"/> <sequenceFlow id="Flow_Bank10" sourceRef="Task_OrganizeDisbursement" targetRef="EndEvent_Bank"/> 
  
  <!-- Data Association for Assessment Result -->

</process> 
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1">
      <bpmndi:BPMNShape id="ParticipantShape_Customer" bpmnElement="Participant_Customer" isHorizontal="true">
        <dc:Bounds x="140" y="60" width="1100" height="180" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="LaneShape_Customer" bpmnElement="Lane_Customer" isHorizontal="true">
        <dc:Bounds x="140" y="60" width="1100" height="180" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_StartEvent_Customer" bpmnElement="StartEvent_Customer">
        <dc:Bounds x="220" y="120" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_SendCreditRequest" bpmnElement="Task_SendCreditRequest">
        <dc:Bounds x="330" y="110" width="100" height="56" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Event_ReceiveAssessmentResult" bpmnElement="Event_ReceiveAssessmentResult">
        <dc:Bounds x="480" y="120" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_EndEvent_Customer" bpmnElement="EndEvent_Customer">
        <dc:Bounds x="590" y="120" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Edge_Flow_Customer1" bpmnElement="Flow_Customer1">
        <di:waypoint x="256" y="138" />
        <di:waypoint x="330" y="138" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Customer2" bpmnElement="Flow_Customer2">
        <di:waypoint x="430" y="138" />
        <di:waypoint x="480" y="138" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Customer3" bpmnElement="Flow_Customer3">
        <di:waypoint x="516" y="138" />
        <di:waypoint x="590" y="138" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ParticipantShape_Bank" bpmnElement="Participant_Bank" isHorizontal="true">
        <dc:Bounds x="140" y="260" width="1100" height="260" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="LaneShape_Risk" bpmnElement="Lane_Risk" isHorizontal="true">
        <dc:Bounds x="140" y="260" width="1100" height="170" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="LaneShape_Operations" bpmnElement="Lane_Operations" isHorizontal="true">
        <dc:Bounds x="140" y="430" width="1100" height="90" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Event_ReceiveCreditRequest" bpmnElement="Event_ReceiveCreditRequest">
        <dc:Bounds x="220" y="317" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_AssessRisk" bpmnElement="Task_AssessRisk">
        <dc:Bounds x="300" y="307" width="100" height="56" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gateway_RiskThreshold" bpmnElement="Gateway_RiskThreshold" isMarkerVisible="true">
        <dc:Bounds x="440" y="322" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="492" y="333.5" width="56" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_AdvancedRiskAssessment" bpmnElement="Task_AdvancedRiskAssessment">
        <dc:Bounds x="540" y="277" width="120" height="56" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_SimpleRiskAssessment" bpmnElement="Task_SimpleRiskAssessment">
        <dc:Bounds x="540" y="366" width="120" height="56" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gateway_AfterAssessment_Fork" bpmnElement="Gateway_AfterAssessment_Fork" isMarkerVisible="true">
        <dc:Bounds x="700" y="322" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Event_SendAssessmentResult" bpmnElement="Event_SendAssessmentResult">
        <dc:Bounds x="800" y="330" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_OrganizeDisbursement" bpmnElement="Task_OrganizeDisbursement">
        <dc:Bounds x="800" y="453" width="140" height="56" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_EndEvent_Bank" bpmnElement="EndEvent_Bank">
        <dc:Bounds x="990" y="350" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_DataRef_AssessmentResult" bpmnElement="DataRef_AssessmentResult">
        <dc:Bounds x="690" y="435" width="40" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="680" y="485" width="60" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank1" bpmnElement="Flow_Bank1">
        <di:waypoint x="256" y="335" />
        <di:waypoint x="300" y="335" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank2" bpmnElement="Flow_Bank2">
        <di:waypoint x="400" y="335" />
        <di:waypoint x="440" y="347" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank3" bpmnElement="Flow_Bank3">
        <di:waypoint x="465" y="322" />
        <di:waypoint x="465" y="310" />
        <di:waypoint x="540" y="310" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="490" y="292" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank4" bpmnElement="Flow_Bank4">
        <di:waypoint x="465" y="372" />
        <di:waypoint x="465" y="394" />
        <di:waypoint x="540" y="394" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="490" y="392" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank5" bpmnElement="Flow_Bank5">
        <di:waypoint x="660" y="305" />
        <di:waypoint x="725" y="347" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank6" bpmnElement="Flow_Bank6">
        <di:waypoint x="660" y="394" />
        <di:waypoint x="725" y="347" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank7" bpmnElement="Flow_Bank7">
        <di:waypoint x="750" y="347" />
        <di:waypoint x="800" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank8" bpmnElement="Flow_Bank8">
        <di:waypoint x="725" y="372" />
        <di:waypoint x="870" y="453" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank9" bpmnElement="Flow_Bank9">
        <di:waypoint x="836" y="348" />
        <di:waypoint x="990" y="368" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Bank10" bpmnElement="Flow_Bank10">
        <di:waypoint x="940" y="481" />
        <di:waypoint x="1008" y="368" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_DataInput_AssessmentResult_Advanced" bpmnElement="DataInput_AssessmentResult_Advanced">
        <di:waypoint x="696" y="435" />
        <di:waypoint x="640" y="333" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_DataInput_AssessmentResult_Simple" bpmnElement="DataInput_AssessmentResult_Simple">
        <di:waypoint x="690" y="444" />
        <di:waypoint x="657" y="419" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_MessageFlow_CreditRequest" bpmnElement="MessageFlow_CreditRequest">
        <di:waypoint x="430" y="166" />
        <di:waypoint x="238" y="317" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="340" y="230" width="70" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_MessageFlow_NotifyResult" bpmnElement="MessageFlow_NotifyResult">
        <di:waypoint x="818" y="330" />
        <di:waypoint x="498" y="156" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="650" y="220" width="70" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>