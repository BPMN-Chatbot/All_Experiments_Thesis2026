<?xml version="1.0" encoding="UTF-8"?> <definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn"> <collaboration id="Collaboration_1"> <participant id="Participant_Company" name="Company" processRef="Process_Company"/>  <message id="Message_PickupRequest" name="Pickup Request"/> <message id="Message_PickupRequestPost" name="Pickup Request Post"/> <messageFlow id="MessageFlow_PickupRequest" name="Pickup Request" sourceRef="MessageEvent_SendPickupRequest" targetRef="Participant_LogisticsCompany"/> <messageFlow id="MessageFlow_PickupRequestPost" name="Pickup Request Post" sourceRef="MessageEvent_SendPickupRequestPost" targetRef="Participant_LogisticsCompany"/>  <participant id="Participant_LogisticsCompany" name="Logistics Company"/> </collaboration> <process id="Process_Company" isExecutable="true"> <laneSet id="LaneSet_1"> <lane id="Lane_Secretary" name="Secretary"/> <lane id="Lane_LogisticsHead" name="Logistics Department Head"/> <lane id="Lane_Warehousemen" name="Warehousemen"/> </laneSet> <!-- Start Event --> <startEvent id="StartEvent_ShipGoods" name="Goods to be shipped"> <outgoing>Flow_ClarifyShipping</outgoing> </startEvent> <!-- Secretary clarifies shipping --> <task id="Task_ClarifyShipping" name="Clarify who will do shipping"> <incoming>Flow_ClarifyShipping</incoming> <outgoing>Flow_ShippingTypeDecision</outgoing> <lane>Lane_Secretary</lane> </task> <!-- Exclusive Gateway: Large or Small Amount --> <exclusiveGateway id="Gateway_ShippingType" name="Large amount?"> <incoming>Flow_ShippingTypeDecision</incoming> <outgoing>Flow_LargeAmount</outgoing> <outgoing>Flow_SmallAmount</outgoing> </exclusiveGateway> <!-- Large Amount Path --> <task id="Task_InviteLogisticsCompanies" name="Invite 3 logistics companies for offers"> <incoming>Flow_LargeAmount</incoming> <outgoing>Flow_SelectLogisticsCompany</outgoing> <lane>Lane_Secretary</lane> </task> <task id="Task_SelectLogisticsCompany" name="Select logistics company"> <incoming>Flow_SelectLogisticsCompany</incoming> <outgoing>Flow_SendPickupRequest</outgoing> <lane>Lane_Secretary</lane> </task> <!-- Message Throw Event: Send pickup request to selected logistics company --> <intermediateThrowEvent id="MessageEvent_SendPickupRequest" name="Send pickup request"> <incoming>Flow_SendPickupRequest</incoming> <outgoing>Flow_PrepareForPickup_Large</outgoing> <messageEventDefinition id="MessageEventDefinition_SendPickupRequest"/> </intermediateThrowEvent> <!-- Small Amount Path --> <task id="Task_WritePackageLabel" name="Write package label"> <incoming>Flow_SmallAmount</incoming> <outgoing>Flow_InsuranceDecision</outgoing> <lane>Lane_Secretary</lane> <dataOutputAssociation> <sourceRef>Task_WritePackageLabel</sourceRef> <targetRef>DataObject_PackageLabel</targetRef> </dataOutputAssociation> </task> <dataObject id="DataObject_PackageLabel" name="Package Label"/> <exclusiveGateway id="Gateway_InsuranceNeeded" name="Parcel insurance needed?"> <incoming>Flow_InsuranceDecision</incoming> <outgoing>Flow_InsuranceNeeded</outgoing> <outgoing>Flow_NoInsuranceNeeded</outgoing> </exclusiveGateway> <task id="Task_TakeParcelInsurance" name="Take parcel insurance"> <incoming>Flow_InsuranceNeeded</incoming> <outgoing>Flow_PrepareForPickup_Small</outgoing> <lane>Lane_LogisticsHead</lane> <dataInputAssociation> <sourceRef>DataObject_PackageLabel</sourceRef> <targetRef>Task_TakeParcelInsurance</targetRef> </dataInputAssociation> </task> <!-- If no insurance needed, go directly to prepare for pickup --> <!-- Message Throw Event: Send pickup request to post (as logistics company) --> <intermediateThrowEvent id="MessageEvent_SendPickupRequestPost" name="Send pickup request to post"> <incoming>Flow_NoInsuranceNeeded</incoming> <outgoing>Flow_PrepareForPickup_Small</outgoing> <messageEventDefinition id="MessageEventDefinition_SendPickupRequestPost"/> </intermediateThrowEvent> <!-- Warehousemen package goods in parallel --> <task id="Task_PackageGoods" name="Package goods"> <incoming>Flow_ClarifyShipping</incoming> <outgoing>Flow_PackagedGoodsReady</outgoing> <lane>Lane_Warehousemen</lane> <dataOutputAssociation> <sourceRef>Task_PackageGoods</sourceRef> <targetRef>DataObject_PackagedGoods</targetRef> </dataOutputAssociation> </task> <dataObject id="DataObject_PackagedGoods" name="Packaged Goods"/> <!-- Parallel Gateway: Wait for both packaged goods and shipping ready --> <parallelGateway id="Gateway_ReadyForPickup" name="Ready for pickup?"> <incoming>Flow_PrepareForPickup_Large</incoming> <incoming>Flow_PrepareForPickup_Small</incoming> <incoming>Flow_PackagedGoodsReady</incoming> <outgoing>Flow_PrepareGoodsForPickup</outgoing> </parallelGateway> <!-- Prepare goods for pickup --> <task id="Task_PrepareGoodsForPickup" name="Prepare goods for pickup"> <incoming>Flow_PrepareGoodsForPickup</incoming> <outgoing>Flow_End</outgoing> <lane>Lane_Warehousemen</lane> <dataInputAssociation> <sourceRef>DataObject_PackagedGoods</sourceRef> <targetRef>Task_PrepareGoodsForPickup</targetRef> </dataInputAssociation> </task> <!-- End Event --> <endEvent id="EndEvent_PickupReady" name="Goods ready for pickup"> <incoming>Flow_End</incoming> </endEvent> <!-- Sequence Flows --> <sequenceFlow id="Flow_ClarifyShipping" sourceRef="StartEvent_ShipGoods" targetRef="Task_ClarifyShipping"/> <sequenceFlow id="Flow_ShippingTypeDecision" sourceRef="Task_ClarifyShipping" targetRef="Gateway_ShippingType"/> <sequenceFlow id="Flow_LargeAmount" sourceRef="Gateway_ShippingType" targetRef="Task_InviteLogisticsCompanies"/> <sequenceFlow id="Flow_SmallAmount" sourceRef="Gateway_ShippingType" targetRef="Task_WritePackageLabel"/> <sequenceFlow id="Flow_SelectLogisticsCompany" sourceRef="Task_InviteLogisticsCompanies" targetRef="Task_SelectLogisticsCompany"/> <sequenceFlow id="Flow_SendPickupRequest" sourceRef="Task_SelectLogisticsCompany" targetRef="MessageEvent_SendPickupRequest"/> <sequenceFlow id="Flow_PrepareForPickup_Large" sourceRef="MessageEvent_SendPickupRequest" targetRef="Gateway_ReadyForPickup"/> <sequenceFlow id="Flow_InsuranceDecision" sourceRef="Task_WritePackageLabel" targetRef="Gateway_InsuranceNeeded"/> <sequenceFlow id="Flow_InsuranceNeeded" sourceRef="Gateway_InsuranceNeeded" targetRef="Task_TakeParcelInsurance"/> <sequenceFlow id="Flow_NoInsuranceNeeded" sourceRef="Gateway_InsuranceNeeded" targetRef="MessageEvent_SendPickupRequestPost"/> <sequenceFlow id="Flow_PrepareForPickup_Small" sourceRef="Task_TakeParcelInsurance" targetRef="Gateway_ReadyForPickup"/> <sequenceFlow id="Flow_PrepareForPickup_Small" sourceRef="MessageEvent_SendPickupRequestPost" targetRef="Gateway_ReadyForPickup"/> <sequenceFlow id="Flow_PackagedGoodsReady" sourceRef="Task_PackageGoods" targetRef="Gateway_ReadyForPickup"/> <sequenceFlow id="Flow_PrepareGoodsForPickup" sourceRef="Gateway_ReadyForPickup" targetRef="Task_PrepareGoodsForPickup"/> <sequenceFlow id="Flow_End" sourceRef="Task_PrepareGoodsForPickup" targetRef="EndEvent_PickupReady"/> </process> <!-- Logistics Company Pool (no process, just for message flow) -->

<bpmndi:BPMNDiagram id="BPMNDiagram_1"> <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1"> <!-- Company Pool Shape --> <bpmndi:BPMNShape id="Participant_Company_di" bpmnElement="Participant_Company" isHorizontal="true"> <dc:Bounds x="140" y="80" width="1800" height="600"/> </bpmndi:BPMNShape> <!-- Lanes --> <bpmndi:BPMNShape id="Lane_Secretary_di" bpmnElement="Lane_Secretary" isHorizontal="true"> <dc:Bounds x="170" y="100" width="1740" height="150"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Lane_LogisticsHead_di" bpmnElement="Lane_LogisticsHead" isHorizontal="true"> <dc:Bounds x="170" y="250" width="1740" height="160"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Lane_Warehousemen_di" bpmnElement="Lane_Warehousemen" isHorizontal="true"> <dc:Bounds x="170" y="410" width="1740" height="250"/> </bpmndi:BPMNShape> <!-- Logistics Company Pool (Empty, just for message flows) --> <bpmndi:BPMNShape id="Participant_LogisticsCompany_di" bpmnElement="Participant_LogisticsCompany" isHorizontal="true"> <dc:Bounds x="140" y="700" width="1800" height="120"/> </bpmndi:BPMNShape> <!-- Elements in Secretary lane --> <bpmndi:BPMNShape id="StartEvent_ShipGoods_di" bpmnElement="StartEvent_ShipGoods"> <dc:Bounds x="230" y="169" width="36" height="36"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Task_ClarifyShipping_di" bpmnElement="Task_ClarifyShipping"> <dc:Bounds x="300" y="155" width="100" height="60"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Gateway_ShippingType_di" bpmnElement="Gateway_ShippingType" isMarkerVisible="true"> <dc:Bounds x="440" y="170" width="50" height="50"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Task_InviteLogisticsCompanies_di" bpmnElement="Task_InviteLogisticsCompanies"> <dc:Bounds x="540" y="120" width="120" height="60"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Task_SelectLogisticsCompany_di" bpmnElement="Task_SelectLogisticsCompany"> <dc:Bounds x="700" y="120" width="120" height="60"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="MessageEvent_SendPickupRequest_di" bpmnElement="MessageEvent_SendPickupRequest"> <dc:Bounds x="860" y="137" width="36" height="36"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Task_WritePackageLabel_di" bpmnElement="Task_WritePackageLabel"> <dc:Bounds x="540" y="230" width="120" height="60"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Gateway_InsuranceNeeded_di" bpmnElement="Gateway_InsuranceNeeded" isMarkerVisible="true"> <dc:Bounds x="700" y="245" width="50" height="50"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="MessageEvent_SendPickupRequestPost_di" bpmnElement="MessageEvent_SendPickupRequestPost"> <dc:Bounds x="790" y="270" width="36" height="36"/> </bpmndi:BPMNShape> <!-- Logistics Department Head lane --> <bpmndi:BPMNShape id="Task_TakeParcelInsurance_di" bpmnElement="Task_TakeParcelInsurance"> <dc:Bounds x="790" y="340" width="120" height="60"/> </bpmndi:BPMNShape> <!-- Warehousemen lane --> <bpmndi:BPMNShape id="Task_PackageGoods_di" bpmnElement="Task_PackageGoods"> <dc:Bounds x="300" y="470" width="120" height="60"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="DataObject_PackagedGoods_di" bpmnElement="DataObject_PackagedGoods" isExpanded="true"> <dc:Bounds x="440" y="540" width="36" height="50"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Gateway_ReadyForPickup_di" bpmnElement="Gateway_ReadyForPickup" isMarkerVisible="true"> <dc:Bounds x="1010" y="315" width="50" height="50"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Task_PrepareGoodsForPickup_di" bpmnElement="Task_PrepareGoodsForPickup"> <dc:Bounds x="1160" y="470" width="150" height="60"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="EndEvent_PickupReady_di" bpmnElement="EndEvent_PickupReady"> <dc:Bounds x="1340" y="485" width="36" height="36"/> </bpmndi:BPMNShape> <!-- Data Object: Package Label --> <bpmndi:BPMNShape id="DataObject_PackageLabel_di" bpmnElement="DataObject_PackageLabel" isExpanded="true"> <dc:Bounds x="670" y="300" width="36" height="50"/> </bpmndi:BPMNShape> <!-- Sequence Flows --> <bpmndi:BPMNEdge id="Flow_ClarifyShipping_di" bpmnElement="Flow_ClarifyShipping"> <di:waypoint x="266" y="187" /> <di:waypoint x="300" y="185" /> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_ShippingTypeDecision_di" bpmnElement="Flow_ShippingTypeDecision"> <di:waypoint x="400" y="185" /> <di:waypoint x="440" y="195" /> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_LargeAmount_di" bpmnElement="Flow_LargeAmount"> <di:waypoint x="465" y="170"/> <di:waypoint x="600" y="170"/> <di:waypoint x="600" y="180"/> <di:waypoint x="600" y="180"/> <di:waypoint x="600" y="180"/> <di:waypoint x="600" y="150"/> <di:waypoint x="540" y="150"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_SmallAmount_di" bpmnElement="Flow_SmallAmount"> <di:waypoint x="465" y="220"/> <di:waypoint x="540" y="260"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_SelectLogisticsCompany_di" bpmnElement="Flow_SelectLogisticsCompany"> <di:waypoint x="660" y="150"/> <di:waypoint x="700" y="150"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_SendPickupRequest_di" bpmnElement="Flow_SendPickupRequest"> <di:waypoint x="820" y="150"/> <di:waypoint x="860" y="155"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_PrepareForPickup_Large_di" bpmnElement="Flow_PrepareForPickup_Large"> <di:waypoint x="896" y="155"/> <di:waypoint x="1035" y="315"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_InsuranceDecision_di" bpmnElement="Flow_InsuranceDecision"> <di:waypoint x="660" y="260"/> <di:waypoint x="700" y="270"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_InsuranceNeeded_di" bpmnElement="Flow_InsuranceNeeded"> <di:waypoint x="725" y="295"/> <di:waypoint x="850" y="340"/> <di:waypoint x="850" y="370"/> <di:waypoint x="790" y="370"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_NoInsuranceNeeded_di" bpmnElement="Flow_NoInsuranceNeeded"> <di:waypoint x="750" y="270"/> <di:waypoint x="790" y="288"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_PrepareForPickup_Small1_di" bpmnElement="Flow_PrepareForPickup_Small"> <di:waypoint x="910" y="370"/> <di:waypoint x="1035" y="365"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_PrepareForPickup_Small2_di" bpmnElement="Flow_PrepareForPickup_Small"> <di:waypoint x="826" y="288"/> <di:waypoint x="1035" y="340"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_PackagedGoodsReady_di" bpmnElement="Flow_PackagedGoodsReady"> <di:waypoint x="420" y="500"/> <di:waypoint x="1010" y="340"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_PrepareGoodsForPickup_di" bpmnElement="Flow_PrepareGoodsForPickup"> <di:waypoint x="1060" y="340"/> <di:waypoint x="1160" y="500"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_End_di" bpmnElement="Flow_End"> <di:waypoint x="1310" y="500"/> <di:waypoint x="1340" y="500"/> </bpmndi:BPMNEdge> <!-- Data Output Associations --> <bpmndi:BPMNEdge id="DataOutputAssociation_Task_WritePackageLabel_di" bpmnElement="Task_WritePackageLabel"> <di:waypoint x="600" y="290"/> <di:waypoint x="670" y="325"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="DataOutputAssociation_Task_PackageGoods_di" bpmnElement="Task_PackageGoods"> <di:waypoint x="420" y="500"/> <di:waypoint x="440" y="540"/> </bpmndi:BPMNEdge> <!-- Data Input Associations --> <bpmndi:BPMNEdge id="DataInputAssociation_Task_TakeParcelInsurance_di" bpmnElement="Task_TakeParcelInsurance"> <di:waypoint x="688" y="325"/> <di:waypoint x="790" y="370"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="DataInputAssociation_Task_PrepareGoodsForPickup_di" bpmnElement="Task_PrepareGoodsForPickup"> <di:waypoint x="476" y="565"/> <di:waypoint x="1160" y="530"/> </bpmndi:BPMNEdge> <!-- Message Flows --> <bpmndi:BPMNEdge id="MessageFlow_PickupRequest_di" bpmnElement="MessageFlow_PickupRequest"> <di:waypoint x="878" y="155"/> <di:waypoint x="1270" y="718"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="MessageFlow_PickupRequestPost_di" bpmnElement="MessageFlow_PickupRequestPost"> <di:waypoint x="808" y="288"/> <di:waypoint x="1270" y="718"/> </bpmndi:BPMNEdge> </bpmndi:BPMNPlane> </bpmndi:BPMNDiagram>
  
</definitions>