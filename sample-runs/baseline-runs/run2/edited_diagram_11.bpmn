<?xml version="1.0" encoding="UTF-8"?> <definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" targetNamespace="http://example.com/bpmn"> <collaboration id="Collaboration_1"> <participant id="Participant_Company" name="Company" processRef="Process_Company"/> <participant id="Participant_LogisticsCompany" name="Logistics Company" processRef="Process_LogisticsCompany"/>
<!-- Messages --> <message id="Message_PickupRequest" name="Pickup Request"/> <message id="Message_PickupConfirmation" name="Pickup Confirmation"/> 
</collaboration> <!-- Company Process --> <process id="Process_Company" isExecutable="true"> <laneSet id="LaneSet_Company"> <lane id="Lane_Secretary" name="Secretary"/> <lane id="Lane_LogisticsHead" name="Logistics Department Head"/> <lane id="Lane_Warehouseman" name="Warehouseman"/> </laneSet> <!-- Data Objects --> <dataObject id="DataObject_PackageLabel" name="Package Label"/> <dataObject id="DataObject_ParcelInsurance" name="Parcel Insurance"/> <dataObject id="DataObject_PackagedGoods" name="Packaged Goods"/> <!-- Start Event --> <startEvent id="StartEvent_ShipGoods" name="Goods to be shipped"/> <sequenceFlow id="Flow1" sourceRef="StartEvent_ShipGoods" targetRef="Task_ClarifyShipping"/> <!-- Secretary: Clarify who will do shipping --> <task id="Task_ClarifyShipping" name="Clarify who will do shipping" laneRef="Lane_Secretary"/> <sequenceFlow id="Flow2" sourceRef="Task_ClarifyShipping" targetRef="Gateway_AmountCheck"/> <!-- Exclusive Gateway: Large or Small Amount --> <exclusiveGateway id="Gateway_AmountCheck" name="Large amount?"/> <sequenceFlow id="Flow3" sourceRef="Gateway_AmountCheck" targetRef="Task_InviteLogistics" name="Yes"> <conditionExpression xsi:type="tFormalExpression"><![CDATA[largeAmount]]></conditionExpression> </sequenceFlow> <sequenceFlow id="Flow4" sourceRef="Gateway_AmountCheck" targetRef="Task_WritePackageLabel" name="No"> <conditionExpression xsi:type="tFormalExpression"><![CDATA[!largeAmount]]></conditionExpression> </sequenceFlow> <!-- Large Amount Path --> <task id="Task_InviteLogistics" name="Invite 3 logistics companies for offers" laneRef="Lane_Secretary"/> <sequenceFlow id="Flow5" sourceRef="Task_InviteLogistics" targetRef="Task_SelectLogistics"/> <task id="Task_SelectLogistics" name="Select logistics company" laneRef="Lane_Secretary"/> <sequenceFlow id="Flow6" sourceRef="Task_SelectLogistics" targetRef="IntermediateThrowEvent_SendPickupRequest"/> <!-- Send message to selected logistics company --> <intermediateThrowEvent id="IntermediateThrowEvent_SendPickupRequest" name="Send pickup request"> <messageEventDefinition messageRef="Message_PickupRequest"/> </intermediateThrowEvent> <sequenceFlow id="Flow7" sourceRef="IntermediateThrowEvent_SendPickupRequest" targetRef="Gateway_ParallelPackaging"/> <!-- Small Amount Path --> <task id="Task_WritePackageLabel" name="Write package label" laneRef="Lane_Secretary"/> <dataOutputAssociation> <sourceRef>Task_WritePackageLabel</sourceRef> <targetRef>DataObject_PackageLabel</targetRef> </dataOutputAssociation> <sequenceFlow id="Flow8" sourceRef="Task_WritePackageLabel" targetRef="Gateway_InsuranceNeeded"/> <!-- Exclusive Gateway: Insurance needed? --> <exclusiveGateway id="Gateway_InsuranceNeeded" name="Insurance needed?"/> <sequenceFlow id="Flow9" sourceRef="Gateway_InsuranceNeeded" targetRef="Task_TakeParcelInsurance" name="Yes"> <conditionExpression xsi:type="tFormalExpression"><![CDATA[insuranceNeeded]]></conditionExpression> </sequenceFlow> <sequenceFlow id="Flow10" sourceRef="Gateway_InsuranceNeeded" targetRef="Gateway_ParallelPackaging" name="No"> <conditionExpression xsi:type="tFormalExpression"><![CDATA[!insuranceNeeded]]></conditionExpression> </sequenceFlow> <!-- Logistics Head: Take parcel insurance --> <task id="Task_TakeParcelInsurance" name="Take parcel insurance" laneRef="Lane_LogisticsHead"/> <dataOutputAssociation> <sourceRef>Task_TakeParcelInsurance</sourceRef> <targetRef>DataObject_ParcelInsurance</targetRef> </dataOutputAssociation> <sequenceFlow id="Flow11" sourceRef="Task_TakeParcelInsurance" targetRef="Gateway_ParallelPackaging"/> <!-- Parallel Gateway: Package goods and prepare for pickup in parallel --> <parallelGateway id="Gateway_ParallelPackaging" name="Parallel Packaging"/> <sequenceFlow id="Flow12" sourceRef="Gateway_ParallelPackaging" targetRef="Task_PackageGoods"/> <sequenceFlow id="Flow13" sourceRef="Gateway_ParallelPackaging" targetRef="Task_PrepareForPickup"/> <!-- Warehouseman: Package goods --> <task id="Task_PackageGoods" name="Package goods" laneRef="Lane_Warehouseman"/> <dataOutputAssociation> <sourceRef>Task_PackageGoods</sourceRef> <targetRef>DataObject_PackagedGoods</targetRef> </dataOutputAssociation> <sequenceFlow id="Flow14" sourceRef="Task_PackageGoods" targetRef="Task_PrepareForPickup"/> <!-- Secretary: Prepare for pickup --> <task id="Task_PrepareForPickup" name="Prepare packaged goods for pickup" laneRef="Lane_Secretary"/> <sequenceFlow id="Flow15" sourceRef="Task_PrepareForPickup" targetRef="IntermediateCatchEvent_PickupByLogistics"/> <!-- Wait for logistics company to pick up goods --> <intermediateCatchEvent id="IntermediateCatchEvent_PickupByLogistics" name="Goods picked up"> <messageEventDefinition messageRef="Message_PickupConfirmation"/> </intermediateCatchEvent> <sequenceFlow id="Flow16" sourceRef="IntermediateCatchEvent_PickupByLogistics" targetRef="EndEvent_ShippingComplete"/> <!-- End Event --> <endEvent id="EndEvent_ShippingComplete" name="Shipping complete"/> </process> <!-- Logistics Company Process --> <process id="Process_LogisticsCompany" isExecutable="true"> <laneSet id="LaneSet_LogisticsCompany"> <lane id="Lane_LogisticsCompany_Main" name="Logistics Company"/> </laneSet> <startEvent id="StartEvent_WaitForPickupRequest" name=""/> <sequenceFlow id="LC_Flow1" sourceRef="StartEvent_WaitForPickupRequest" targetRef="IntermediateCatchEvent_ReceivePickupRequest"/> <intermediateCatchEvent id="IntermediateCatchEvent_ReceivePickupRequest" name="Receive pickup request"> <messageEventDefinition messageRef="Message_PickupRequest"/> </intermediateCatchEvent> <sequenceFlow id="LC_Flow2" sourceRef="IntermediateCatchEvent_ReceivePickupRequest" targetRef="Task_PickupGoods"/> <task id="Task_PickupGoods" name="Pick up goods" laneRef="Lane_LogisticsCompany_Main"/> <sequenceFlow id="LC_Flow3" sourceRef="Task_PickupGoods" targetRef="IntermediateThrowEvent_SendPickupConfirmation"/> <intermediateThrowEvent id="IntermediateThrowEvent_SendPickupConfirmation" name="Send pickup confirmation"> <messageEventDefinition messageRef="Message_PickupConfirmation"/> </intermediateThrowEvent> <sequenceFlow id="LC_Flow4" sourceRef="IntermediateThrowEvent_SendPickupConfirmation" targetRef="EndEvent_LogisticsComplete"/> <endEvent id="EndEvent_LogisticsComplete" name=""/> </process> 

  <bpmndi:BPMNDiagram id="BPMNDiagram_1"> <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1"> <!-- Company Pool (with 3 lanes) --> <bpmndi:BPMNShape id="Participant_Company_di" bpmnElement="Participant_Company" isHorizontal="true"> <dc:Bounds x="110" y="60" width="1910" height="380"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Lane_Secretary_di" bpmnElement="Lane_Secretary" isHorizontal="true"> <dc:Bounds x="125" y="70" width="1880" height="110"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Lane_LogisticsHead_di" bpmnElement="Lane_LogisticsHead" isHorizontal="true"> <dc:Bounds x="125" y="180" width="1880" height="90"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Lane_Warehouseman_di" bpmnElement="Lane_Warehouseman" isHorizontal="true"> <dc:Bounds x="125" y="270" width="1880" height="150"/> </bpmndi:BPMNShape> <!-- LogisticsCompany Pool --> <bpmndi:BPMNShape id="Participant_LogisticsCompany_di" bpmnElement="Participant_LogisticsCompany" isHorizontal="true"> <dc:Bounds x="110" y="470" width="1910" height="120"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="Lane_LogisticsCompany_Main_di" bpmnElement="Lane_LogisticsCompany_Main" isHorizontal="true"> <dc:Bounds x="125" y="480" width="1880" height="100"/> </bpmndi:BPMNShape> <!-- COMPANY Process Elements --> <!-- Start Event --> <bpmndi:BPMNShape id="StartEvent_ShipGoods_di" bpmnElement="StartEvent_ShipGoods"> <dc:Bounds x="160" y="112" width="36" height="36"/> </bpmndi:BPMNShape> <!-- Task: Clarify who will do shipping --> <bpmndi:BPMNShape id="Task_ClarifyShipping_di" bpmnElement="Task_ClarifyShipping"> <dc:Bounds x="240" y="100" width="100" height="60"/> </bpmndi:BPMNShape> <!-- Gateway: Large amount? --> <bpmndi:BPMNShape id="Gateway_AmountCheck_di" bpmnElement="Gateway_AmountCheck" isMarkerVisible="true"> <dc:Bounds x="370" y="110" width="50" height="50"/> </bpmndi:BPMNShape> <!-- Task: Invite 3 logistics companies for offers --> <bpmndi:BPMNShape id="Task_InviteLogistics_di" bpmnElement="Task_InviteLogistics"> <dc:Bounds x="460" y="70" width="120" height="60"/> </bpmndi:BPMNShape> <!-- Task: Select logistics company --> <bpmndi:BPMNShape id="Task_SelectLogistics_di" bpmnElement="Task_SelectLogistics"> <dc:Bounds x="610" y="70" width="120" height="60"/> </bpmndi:BPMNShape> <!-- IntermediateThrowEvent: Send pickup request --> <bpmndi:BPMNShape id="IntermediateThrowEvent_SendPickupRequest_di" bpmnElement="IntermediateThrowEvent_SendPickupRequest"> <dc:Bounds x="770" y="90" width="36" height="36"/> </bpmndi:BPMNShape> <!-- Task: Write package label --> <bpmndi:BPMNShape id="Task_WritePackageLabel_di" bpmnElement="Task_WritePackageLabel"> <dc:Bounds x="460" y="150" width="120" height="60"/> </bpmndi:BPMNShape> <!-- Gateway: Insurance needed? --> <bpmndi:BPMNShape id="Gateway_InsuranceNeeded_di" bpmnElement="Gateway_InsuranceNeeded" isMarkerVisible="true"> <dc:Bounds x="610" y="160" width="50" height="50"/> </bpmndi:BPMNShape> <!-- Task: Take parcel insurance --> <bpmndi:BPMNShape id="Task_TakeParcelInsurance_di" bpmnElement="Task_TakeParcelInsurance"> <dc:Bounds x="720" y="190" width="120" height="60"/> </bpmndi:BPMNShape> <!-- ParallelGateway: Parallel Packaging --> <bpmndi:BPMNShape id="Gateway_ParallelPackaging_di" bpmnElement="Gateway_ParallelPackaging" isMarkerVisible="true"> <dc:Bounds x="870" y="140" width="50" height="50"/> </bpmndi:BPMNShape> <!-- Task: Package goods (Warehouseman, below) --> <bpmndi:BPMNShape id="Task_PackageGoods_di" bpmnElement="Task_PackageGoods"> <dc:Bounds x="960" y="290" width="120" height="60"/> </bpmndi:BPMNShape> <!-- Task: Prepare packaged goods for pickup (Secretary, above) --> <bpmndi:BPMNShape id="Task_PrepareForPickup_di" bpmnElement="Task_PrepareForPickup"> <dc:Bounds x="1120" y="100" width="140" height="60"/> </bpmndi:BPMNShape> <!-- IntermediateCatchEvent: Pickup By Logistics --> <bpmndi:BPMNShape id="IntermediateCatchEvent_PickupByLogistics_di" bpmnElement="IntermediateCatchEvent_PickupByLogistics"> <dc:Bounds x="1300" y="112" width="36" height="36"/> </bpmndi:BPMNShape> <!-- EndEvent: Shipping Complete --> <bpmndi:BPMNShape id="EndEvent_ShippingComplete_di" bpmnElement="EndEvent_ShippingComplete"> <dc:Bounds x="1390" y="117" width="36" height="36"/> </bpmndi:BPMNShape> <!-- DATA OBJECTS --> <bpmndi:BPMNShape id="DataObject_PackageLabel_di" bpmnElement="DataObject_PackageLabel" isExpanded="true"> <dc:Bounds x="610" y="210" width="36" height="50"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="DataObject_ParcelInsurance_di" bpmnElement="DataObject_ParcelInsurance" isExpanded="true"> <dc:Bounds x="860" y="255" width="36" height="50"/> </bpmndi:BPMNShape> <bpmndi:BPMNShape id="DataObject_PackagedGoods_di" bpmnElement="DataObject_PackagedGoods" isExpanded="true"> <dc:Bounds x="1090" y="360" width="36" height="50"/> </bpmndi:BPMNShape> <!-- LOGISTICS COMPANY LANE ELEMENTS --> <!-- Start Event (invisible, offscreen, for conformity) --> <bpmndi:BPMNShape id="StartEvent_WaitForPickupRequest_di" bpmnElement="StartEvent_WaitForPickupRequest"> <dc:Bounds x="250" y="510" width="36" height="36"/> </bpmndi:BPMNShape> <!-- IntermediateCatchEvent: Receive pickup request --> <bpmndi:BPMNShape id="IntermediateCatchEvent_ReceivePickupRequest_di" bpmnElement="IntermediateCatchEvent_ReceivePickupRequest"> <dc:Bounds x="350" y="510" width="36" height="36"/> </bpmndi:BPMNShape> <!-- Task: Pickup Goods --> <bpmndi:BPMNShape id="Task_PickupGoods_di" bpmnElement="Task_PickupGoods"> <dc:Bounds x="450" y="500" width="120" height="60"/> </bpmndi:BPMNShape> <!-- IntermediateThrowEvent: Send Pickup Confirmation --> <bpmndi:BPMNShape id="IntermediateThrowEvent_SendPickupConfirmation_di" bpmnElement="IntermediateThrowEvent_SendPickupConfirmation"> <dc:Bounds x="610" y="510" width="36" height="36"/> </bpmndi:BPMNShape> <!-- End Event --> <bpmndi:BPMNShape id="EndEvent_LogisticsComplete_di" bpmnElement="EndEvent_LogisticsComplete"> <dc:Bounds x="700" y="515" width="36" height="36"/> </bpmndi:BPMNShape> <!-- SEQUENCE FLOWS + GATEWAY LABELS (COMPANY) --> <bpmndi:BPMNEdge id="Flow1_di" bpmnElement="Flow1"> <di:waypoint x="196" y="130"/> <di:waypoint x="240" y="130"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow2_di" bpmnElement="Flow2"> <di:waypoint x="340" y="130"/> <di:waypoint x="370" y="135"/> </bpmndi:BPMNEdge> <!-- Gateway outgoing: Yes (large amount) --> <bpmndi:BPMNEdge id="Flow3_di" bpmnElement="Flow3"> <di:waypoint x="395" y="110"/> <di:waypoint x="395" y="100"/> <di:waypoint x="460" y="100"/> <bpmndi:BPMNLabel> <dc:Bounds x="410" y="85" width="20" height="15"/> </bpmndi:BPMNLabel> </bpmndi:BPMNEdge> <!-- Gateway outgoing: No (small amount) --> <bpmndi:BPMNEdge id="Flow4_di" bpmnElement="Flow4"> <di:waypoint x="395" y="160"/> <di:waypoint x="395" y="180"/> <di:waypoint x="460" y="180"/> <bpmndi:BPMNLabel> <dc:Bounds x="410" y="170" width="20" height="15"/> </bpmndi:BPMNLabel> </bpmndi:BPMNEdge> <!-- Invite 3 logistic companies -> Select logistics --> <bpmndi:BPMNEdge id="Flow5_di" bpmnElement="Flow5"> <di:waypoint x="580" y="100"/> <di:waypoint x="610" y="100"/> </bpmndi:BPMNEdge> <!-- Select logistics company -> Send pickup request --> <bpmndi:BPMNEdge id="Flow6_di" bpmnElement="Flow6"> <di:waypoint x="730" y="100"/> <di:waypoint x="770" y="108"/> </bpmndi:BPMNEdge> <!-- Send pickup request -> Parallel Gateway --> <bpmndi:BPMNEdge id="Flow7_di" bpmnElement="Flow7"> <di:waypoint x="806" y="108"/> <di:waypoint x="870" y="165"/> </bpmndi:BPMNEdge> <!-- Write package label -> Insurance needed? --> <bpmndi:BPMNEdge id="Flow8_di" bpmnElement="Flow8"> <di:waypoint x="580" y="180"/> <di:waypoint x="610" y="185"/> </bpmndi:BPMNEdge> <!-- Insurance needed? -> Take parcel insurance (Yes) --> <bpmndi:BPMNEdge id="Flow9_di" bpmnElement="Flow9"> <di:waypoint x="635" y="210"/> <di:waypoint x="780" y="220"/> <bpmndi:BPMNLabel> <dc:Bounds x="670" y="212" width="20" height="15"/> </bpmndi:BPMNLabel> </bpmndi:BPMNEdge> <!-- Insurance needed? -> Parallel Gateway (No) --> <bpmndi:BPMNEdge id="Flow10_di" bpmnElement="Flow10"> <di:waypoint x="660" y="185"/> <di:waypoint x="870" y="165"/> <bpmndi:BPMNLabel> <dc:Bounds x="730" y="165" width="20" height="15"/> </bpmndi:BPMNLabel> </bpmndi:BPMNEdge> <!-- Take parcel insurance -> Parallel Gateway --> <bpmndi:BPMNEdge id="Flow11_di" bpmnElement="Flow11"> <di:waypoint x="840" y="220"/> <di:waypoint x="895" y="190"/> </bpmndi:BPMNEdge> <!-- Parallel Gateway -> Package goods (downward split) --> <bpmndi:BPMNEdge id="Flow12_di" bpmnElement="Flow12"> <di:waypoint x="895" y="190"/> <di:waypoint x="1020" y="290"/> </bpmndi:BPMNEdge> <!-- Parallel Gateway -> Prepare for pickup (straight right) --> <bpmndi:BPMNEdge id="Flow13_di" bpmnElement="Flow13"> <di:waypoint x="920" y="165"/> <di:waypoint x="1120" y="130"/> </bpmndi:BPMNEdge> <!-- Package goods -> Prepare for pickup (up arrow) --> <bpmndi:BPMNEdge id="Flow14_di" bpmnElement="Flow14"> <di:waypoint x="1080" y="290"/> <di:waypoint x="1190" y="160"/> <di:waypoint x="1190" y="130"/> </bpmndi:BPMNEdge> <!-- Prepare for pickup -> Pickup by logistics --> <bpmndi:BPMNEdge id="Flow15_di" bpmnElement="Flow15"> <di:waypoint x="1260" y="130"/> <di:waypoint x="1300" y="130"/> </bpmndi:BPMNEdge> <!-- Pickup by logistics -> End event --> <bpmndi:BPMNEdge id="Flow16_di" bpmnElement="Flow16"> <di:waypoint x="1336" y="130"/> <di:waypoint x="1390" y="135"/> </bpmndi:BPMNEdge> <!-- LOGISTICS COMPANY: SEQUENCE FLOWS --> <bpmndi:BPMNEdge id="LC_Flow1_di" bpmnElement="LC_Flow1"> <di:waypoint x="286" y="528"/> <di:waypoint x="350" y="528"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="LC_Flow2_di" bpmnElement="LC_Flow2"> <di:waypoint x="386" y="528"/> <di:waypoint x="450" y="528"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="LC_Flow3_di" bpmnElement="LC_Flow3"> <di:waypoint x="570" y="528"/> <di:waypoint x="610" y="528"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="LC_Flow4_di" bpmnElement="LC_Flow4"> <di:waypoint x="646" y="528"/> <di:waypoint x="700" y="533"/> </bpmndi:BPMNEdge> <!-- DATA OUTPUT/ASSOCIATION EDGES --> <bpmndi:BPMNEdge id="DataOutputAssociation_WritePackageLabel_di" bpmnElement="Task_WritePackageLabel"> <di:waypoint x="590" y="200"/> <di:waypoint x="610" y="210"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="DataOutputAssociation_TakeParcelInsurance_di" bpmnElement="Task_TakeParcelInsurance"> <di:waypoint x="780" y="250"/> <di:waypoint x="860" y="255"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="DataOutputAssociation_PackageGoods_di" bpmnElement="Task_PackageGoods"> <di:waypoint x="1080" y="340"/> <di:waypoint x="1090" y="360"/> </bpmndi:BPMNEdge> <!-- MESSAGE FLOWS --> <!-- Company Send Pickup Request -> Logistics Company Receive Pickup Request --> <bpmndi:BPMNEdge id="MessageFlow_PickupRequest_di" bpmnElement="Message_PickupRequest"> <di:waypoint x="788" y="126"/> <di:waypoint x="788" y="528"/> <di:waypoint x="350" y="528"/> <bpmndi:BPMNLabel> <dc:Bounds x="765" y="320" width="105" height="20"/> </bpmndi:BPMNLabel> </bpmndi:BPMNEdge> <!-- Logistics Company Send Pickup Confirmation -> Company PickupByLogistics --> <bpmndi:BPMNEdge id="MessageFlow_PickupConfirmation_di" bpmnElement="Message_PickupConfirmation"> <di:waypoint x="628" y="528"/> <di:waypoint x="628" y="130"/> <di:waypoint x="1300" y="130"/> <bpmndi:BPMNLabel> <dc:Bounds x="1250" y="320" width="110" height="20"/> </bpmndi:BPMNLabel> </bpmndi:BPMNEdge> </bpmndi:BPMNPlane> </bpmndi:BPMNDiagram>
  
</definitions> 